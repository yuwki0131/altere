# コード統合とクリーンアップ

## タスク概要
既存のコードの不整合を修正し、統一されたエラーハンドリングとtype定義を整備する。

## 目的
- 既存コードの型エラーとコンパイルエラーの修正
- 統一されたResult型の適用
- 未使用importの整理
- ビルド成功とテスト実行の確保

## 実装対象
1. **型システムの統一**
   - Result<T, EditError> → Result<T> への変更
   - 欠落したAltreErrorバリアントの追加
   - 型パラメータの整合性確保

2. **エラーハンドリングの統一**
   - EditError、BufferError等のAltreErrorへの統合
   - 一貫したエラー変換の実装
   - エラーメッセージの日本語化

3. **コードクリーンアップ**
   - 未使用importの削除
   - 不要なコメントアウトコードの整理
   - 重複定義の解決
   - Debug traitの実装問題の解決

4. **ビルドとテストの確保**
   - `cargo build` の成功
   - `cargo test` の成功
   - `cargo clippy` の警告ゼロ

## 成果物
- クリーンにビルドできるコードベース
- 統一されたエラーハンドリング
- 動作する基本テスト
- 警告のないコード品質

## 前提条件
- 01_project_structure_setup.mdの完了
- 既存の実装コードベース

## 完了条件
- [ ] 全型エラーの修正
- [ ] AltreErrorバリアントの完全実装
- [ ] 未使用importの整理
- [ ] Debug trait問題の解決
- [ ] `cargo build` の成功
- [ ] `cargo test` の成功
- [ ] `cargo clippy` の警告ゼロ

## 見積もり
**期間**: 1-2日
**優先度**: 最高（他の実装の前提）

## 関連タスク
- 01_project_structure_setup.md（前提）
- 02_error_handling_implementation.md（統合）
- 他のすべてのMVP実装タスク（基盤）

## 技術的考慮事項
- 既存コードとの互換性維持
- エラーハンドリングの一貫性
- 型安全性の確保
- パフォーマンスへの影響最小化