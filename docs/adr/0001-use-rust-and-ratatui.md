# ADR 0001: Rust + ratatui を採用する

- **日付**: 2025-09-24
- **ステータス**: 承認済み（MVP 実装中）

## 背景
Emacs ライクな操作性と高い応答性を備えたクロスプラットフォームエディタを短期間で構築する必要があった。低レイテンシ・安全性・拡張性のバランスが求められた。

## 決定
- 言語に Rust、UI フレームワークに `ratatui` を採用する。

## 根拠
- Rust はメモリ安全性と高性能を両立し、ネイティブバイナリを生成できる。
- `ratatui` は装飾やレイアウトを柔軟に扱える TUI ライブラリで、Emacs 風レイアウトが実現しやすい。
- 同種プロジェクト（helix など）での実績があり、開発コミュニティが活発。

## トレードオフ
- 初期学習コストが高く、新規参加者には Rust の所有権モデルが障壁となる。
- TUI に限定されるため、GUI 化には追加投資が必要。

## 採用しなかった代替案
1. **Go + tview**
   - 利点: 開発が容易、ビルドが高速
   - 欠点: 所望の描画柔軟性が不足
2. **C++ + ncurses**
   - 利点: 広く利用される
   - 欠点: 安全性と保守性の観点でリスクが高い

## 影響
- Rust のエcosystem (`cargo`, `clippy`, `rustfmt`) を標準ツールチェーンとして採用
- `ratatui` の描画モデルに合わせてミニバッファのレイアウトを設計
- 将来の GUI 化は Tauri を別レイヤで追加する方針
